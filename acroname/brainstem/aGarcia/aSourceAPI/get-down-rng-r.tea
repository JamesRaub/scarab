#include <aAPI.tea>
#include <aAPIGarcia.tea>

void main()
{
  aAPI_SetTxByte0(cmdRFLXE_CHK);
  aAPI_SetTxByte1(aGARCIA_GP_BIT_ENABLEDOWN);
  aAPI_SetTxByte2(aGARCIA_CODE_DOWN_RIGHT);
  aAPI_SetTxLength(3);

  aAPI_SetRxFilterByte(cmdDEV_VAL);
  aAPI_SetRxTimeout(apiGARCIA_DEFAULT_TIMEOUT);

  // command triggers GP reflex, reply comes from MOTO
  aAPI_BeginTx(aGARCIA_GP_ADDR);
  aAPI_BeginRx(aGARCIA_MOTO_ADDR);

  // return value is in 0x0C22
}
