
#include <aAPI.tea>
#include <aAPIStemDefs.tea>

void main(char bytes)
{
  char addr;
  char module;
  char i = 0;

  // can write 1 to 7 bytes

  if ((bytes > 0) && (bytes < 8)) {

    module = aAPI_GetObjByteVar(apiSTEM_I2C_MASTER_ADDR);
    addr = aAPI_GetObjByteVar(apiSTEM_I2C_SLAVE_ADDR);

    for (i = 0; i < bytes; i++) {
      aAPI_SetTxByteVar(i, aAPI_GetObjByteVar(i + apiSTEM_I2C_BUFFER));
    }
    aAPI_SetTxLengthVar(bytes);
    aAPI_BeginTxVar(addr);
  }
}
