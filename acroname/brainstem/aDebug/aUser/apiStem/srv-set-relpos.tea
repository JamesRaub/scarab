
#include <aAPI.tea>
#include <aAPIStemDefs.tea>

void main(int npos)
{
  char id;
  char module;
  char dir = 1;

  module = aAPI_GetObjByteVar(apiSTEM_SERVO_MODULE);
  id = aAPI_GetObjByteVar(apiSTEM_SERVO_ID);
  
  if (npos < 0) {
    dir = 0;
    npos = -npos;
  }

  aAPI_SetTxByte0(cmdSRV_REL);
  aAPI_SetTxByteVar(1, id);
  aAPI_SetTxByteVar(2, (char)npos);
  aAPI_SetTxByteVar(3, dir);
  aAPI_SetTxLength(4);

  aAPI_BeginTxVar(module);
}
