#include <aAPI.tea>
#include <aAPIGarcia.tea>

void main(char ena)
{
  char mask = (char)(1 << aGARCIA_GP_BIT_ENABLEDOWN);
  if (ena) {
    ena = mask;
  }

  aAPI_SetTxByte0(cmdPAD_IO);
  aAPI_SetTxByte1(aGARCIA_GP_PADB_MIRRORMASK);
  aAPI_SetTxByteVar(2, ~mask);
  aAPI_SetTxLength(3);
  aAPI_BeginTx(aGARCIA_GP_ADDR);

  aAPI_SetTxByte0(cmdPAD_IO);
  aAPI_SetTxByte1(aGARCIA_GP_PADB_MIRRORIO);
  aAPI_SetTxByteVar(2, ena);
  aAPI_SetTxLength(3);
  aAPI_BeginTx(aGARCIA_GP_ADDR);
}
